{
  "global_segmentation_settings": {
    "default_log_level": "INFO",
    "max_processes": 1,
    "FORCE_GRAYSCALE": true,
    "USE_GPU_IF_AVAILABLE": false 
  },
  
  "image_configurations": [
    {
      "image_id": "5A",
      "original_image_filename": "data/raw/images/sample_5/5A_morphology_focus.ome.tif",
      "is_active": true,
      "mpp_x": 0.2125,
      "mpp_y": 0.2125,
      "segmentation_options": {
        "apply_segmentation": true,
        "rescaling_config": {
          "scale_factor": 0.25,
          "interpolation": "INTER_AREA"
        },
        "tiling_parameters": {
          "apply_tiling": false
        }
      }
    },
    {
      "image_id": "5B",
      "original_image_filename": "data/raw/images/sample_5/5B_morphology_focus.ome.tif",
      "is_active": true,
      "mpp_x": 0.2125,
      "mpp_y": 0.2125,
      "segmentation_options": {
        "apply_segmentation": true,
        "rescaling_config": {
          "scale_factor": 0.25,
          "interpolation": "INTER_AREA"
        },
        "tiling_parameters": {
          "apply_tiling": false
        }
      }
    },
    {
      "image_id": "5C",
      "original_image_filename": "data/raw/images/sample_5/5C_morphology_focus.ome.tif",
      "is_active": true,
      "mpp_x": 0.2125,
      "mpp_y": 0.2125,
      "segmentation_options": {
        "apply_segmentation": true,
        "rescaling_config": {
          "scale_factor": 0.25,
          "interpolation": "INTER_AREA"
        },
        "tiling_parameters": {
          "apply_tiling": false
        }
      }
    }
  ],

  "cellpose_parameter_configurations": [
    {
      "param_set_id": "Cellpose_DefaultDiam",
      "is_active": true,
      "cellpose_parameters": {
        "MODEL_CHOICE": "cyto3",
        "DIAMETER": null,
        "MIN_SIZE": 15,
        "CELLPROB_THRESHOLD": 0.0,
        "FORCE_GRAYSCALE": true,
        "USE_GPU": false
      }
    }
  ],
  
  "mapping_tasks": [
    {
      "task_id": "map_5A",
      "is_active": true,
      "description": "Map transcripts for 5A.",
      "source_image_id": "5A",
      "source_param_set_id": "Cellpose_DefaultDiam",
      "source_segmentation_is_tile": false,
      "input_transcripts_path": "data/raw/transcripts/experiment_5/5A_morphology_focus.ome.transcripts",
      "output_base_dir": "data/processed/mapped/experiment_5",
      "mask_path_override": null
    },
    {
      "task_id": "map_5B",
      "is_active": true,
      "description": "Map transcripts for 5B.",
      "source_image_id": "5B",
      "source_param_set_id": "Cellpose_DefaultDiam",
      "source_segmentation_is_tile": false,
      "input_transcripts_path": "data/raw/transcripts/experiment_5/5B_morphology_focus.ome.transcripts",
      "output_base_dir": "data/processed/mapped/experiment_5",
      "mask_path_override": null
    },
    {
      "task_id": "map_5C",
      "is_active": true,
      "description": "Map transcripts for 5C.",
      "source_image_id": "5C",
      "source_param_set_id": "Cellpose_DefaultDiam",
      "source_segmentation_is_tile": false,
      "input_transcripts_path": "data/raw/transcripts/experiment_5/5C_morphology_focus.ome.transcripts",
      "output_base_dir": "data/processed/mapped/experiment_5",
      "mask_path_override": null
    }
  ],
  
  "visualization_tasks": {
    "default_genes_to_visualize": ["GlobalGeneX", "GlobalGeneY"],
    "tasks": [
      {
        "task_id": "vis_exp1_image_dapi_genes_ab",
        "is_active": true,
        "source_image_id": "experiment1_image_dapi",
        "source_param_set_id": "cyto2_default_diam30",
        "source_processing_unit_display_name": "image_channel_0_scaled_0_5.tif",
        "mapped_transcripts_csv_path": "data/processed/mapped/experiment1_image_dapi_cyto2_default_diam30/mapped_transcripts.csv",
        "genes_to_visualize": ["GeneA", "GeneB"],
        "output_subfolder_name": "exp1_dapi_genes_ab_on_scaled_seg",
        "visualization_params": {

        }
      },
      {
        "task_id": "vis_exp1_image_cells_global_genes",
        "is_active": true,
        "source_image_id": "experiment1_image_cells",
        "source_param_set_id": "nuclei_custom_diam15",
        "source_processing_unit_display_name": "tile_r0_c0.tif",
        "mapped_transcripts_csv_path": "data/processed/mapped/experiment1_image_cells_tile_r0_c0_nuclei_custom_diam15/mapped_transcripts_tile_r0_c0.csv",
        "output_subfolder_name": "exp1_cells_global_genes_tile_r0_c0",
        "visualization_params": {
          // ...
        }
      }
    ]
  }
}
